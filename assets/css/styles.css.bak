/* =========================================================
   Counseling Space paz - Site Styles (Fixed / 2025-11-28)
   Theme: Sage Green / Lavender
   Policy: A11y, Responsive, Performance Optimized
========================================================= */

/* ---------------------------
   1. å¤‰æ•°å®šç¾©
--------------------------- */
:root {
  /* Colors */
  --color-bg: #ffffff;
  --color-sage: #3A5A40;
  --color-text-dark: #1C3832;
  --color-text-muted: #5f7862;
  --color-lavender: #6E5AA3;
  --color-lavender-light: #B9A6D3;
  --color-lavender-soft: #EFEAF7;
  --color-border: #cfd8cf;

  /* Typography */
  --font-base: 'Zen Maru Gothic', 'Noto Sans JP', system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
  --line-height-body: 1.8;
  --line-height-heading: 1.35;

  /* Layout */
  --max-width: 1200px;
  --space-sm: 1.5rem;
  --space-md: 2rem;
  --space-lg: 4rem;
  --radius: 6px;
  --header-height: clamp(60px, 8vh, 70px);

  /* Focus / A11y */
  --focus-ring: 3px solid var(--color-lavender);
  --focus-offset: 4px;

  /* Hero overlay fallback */
  --hero-overlay: rgba(163,177,138,0.35);
}

/* ---------------------------
   2. Reset & Base
--------------------------- */
*, *::before, *::after { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  margin: 0;
  font-family: var(--font-base);
  font-size: clamp(16px, 1.1vw, 18px);
  line-height: var(--line-height-body);
  color: var(--color-sage);
  background: var(--color-bg);
}
h1, h2, h3 { font-weight: 700; line-height: var(--line-height-heading); }
h4 { font-size: 1.1rem; }
h5 { font-size: 1rem; }
h6 { font-size: 0.95rem; }
p { margin-block: 1em; }
img { display: block; max-width: 100%; height: auto; }

/* ---------------------------
   3. A11y
--------------------------- */
:focus-visible {
  outline: var(--focus-ring);
  outline-offset: var(--focus-offset);
}
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { transition: none !important; animation: none !important; }
}

/* ---------------------------
   4. Links & Buttons
--------------------------- */
a { color: var(--color-sage); text-decoration: none; transition: color 0.2s ease; }
a:hover { color: var(--color-lavender); }

a[target="_blank"]::after {
  content: '';
  display: inline-block;
  width: 16px; height: 16px;
  margin-left: 4px;
  vertical-align: middle;
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor' stroke-width='2'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M15 4h6m0 0v6m0-6L10 14'/%3E%3C/svg%3E");
  mask-size: contain; mask-repeat: no-repeat;
  background-color: var(--color-sage);
  transition: background-color 0.2s ease;
}
a[target="_blank"]:hover::after { background-color: var(--color-lavender); }

/* Button */
.btn {
  display: inline-block;
  padding: clamp(10px,1.2vw,14px) clamp(20px,2.5vw,28px);
  border-radius: var(--radius);
  font-weight: 700;
  text-align: center;
  cursor: pointer;
  line-height: 1;
  min-width:44px;
  min-height:44px;
  border:none;
  transition: background-color 0.3s ease,color 0.3s ease;
  background-color: var(--color-lavender);
  color: #fff;
}
.btn:hover { background-color: #9b7aa5; }
.btn:focus-visible { outline: var(--focus-ring); outline-offset: var(--focus-offset); }

/* ---------------------------
   5. Containers & Wrapper
--------------------------- */
.container,
.wrapper {
  width:100%;
  max-width:var(--max-width);
  margin-inline:auto;
  padding-inline:clamp(1rem,3.5vw,1.5rem);
}

.section { padding-block: clamp(3rem, 7vw, var(--space-lg)); }

/* ---------------------------
Â Â6. Header & Navigation (ä¿®æ­£å¾Œ)
--------------------------- */
.site-header {
Â position: relative;
Â z-index:1000;
Â background: var(--color-bg);
Â border-bottom:1px solid var(--color-border);
Â height: var(--header-height);
}
.site-header .header-inner { /* â˜… ä¿®æ­£ç‚¹: > .inner ã‹ã‚‰ .header-inner ã«å¤‰æ›´ */
Â display: flex;
Â align-items: center;
Â justify-content: space-between;
Â height: 100%;
}
.site-nav {
  position: absolute;
  top: var(--header-height);
  right:0;
  width:100%;
  background: var(--color-lavender-soft);
  border-top:1px solid var(--color-border);
  box-shadow:0 2px 8px rgba(0,0,0,0.05);
  z-index:999;
  visibility:hidden; opacity:0; pointer-events:none;
  transition: opacity 0.25s ease, visibility 0.25s ease, transform 0.25s ease;
  transform: translateY(-10px); will-change: transform;
}
.site-nav.is-open { visibility: visible; opacity:1; pointer-events:auto; transform:translateY(0); }
.site-nav ul { display:flex; flex-direction:column; align-items:center; list-style:none; margin:0; padding:var(--space-sm) 0; gap:8px; }
.menu-toggle { display:flex; align-items:center; justify-content:center; background:none; border:none;
  font-size:clamp(1.6rem,5vw,1.8rem); color: var(--color-lavender); cursor:pointer; min-width:44px; min-height:44px;
  transform:rotate(0deg); transition: transform 0.25s ease, opacity 0.2s; }
.menu-toggle:hover { opacity:0.8; }
.menu-toggle[aria-expanded="true"] { color: var(--color-text-dark); transform: rotate(90deg); }

@media (min-width:768px){
  .menu-toggle{ display:none; }
  .site-nav{ position:static; visibility:visible; opacity:1; pointer-events:auto; transform:none; box-shadow:none; border-top:none; background:transparent; }
  .site-nav ul{ flex-direction:row; justify-content:flex-end; padding:0; gap:clamp(1rem,2vw,1.5rem); }
}

/* ---------------------------
   7. Hero Section
--------------------------- */
.section--hero {
  position: relative;
  min-height: 50vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  overflow:hidden;
  padding-top: env(safe-area-inset-top);
  background-size: cover;
  background-position: center;
}
.hero__overlay {
  position: absolute;
  inset: 0;
  z-index: 1;
  background-color: var(--hero-overlay);
}
.section--hero .inner {
  position: relative;
  z-index: 2;
  padding-block: clamp(2rem, 6vw, 4rem);
}
.hero-text h1 {
  font-size: clamp(24px, 5vw, 40px);
  line-height:1.3;
  text-align:center;
  color:#fff;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}
.hero-text p {
  font-size: clamp(1rem,1.1rem+0.5vw,1.3rem);
  color: var(--color-text-dark);
  text-shadow: 0 0 1px #fff, 0 0 4px #fff, 0 0 2px var(--color-text-dark);
  display:inline;
  padding:0;
}

/* ---------------------------
   8. Grid / Tiles / Cards
--------------------------- */
.tiles {
  display: grid;
  gap: var(--space-sm);
  grid-auto-flow: row;
  grid-auto-rows: minmax(0, 1fr);
  grid-template-columns: repeat(1, 1fr);
  align-items: stretch;
}
.tiles > * { grid-column: auto; grid-row: auto; margin:0; }
.tile a { display: block; }
.tile img {
  display:block;
  width:100%;
  height:auto;
  object-fit:cover;
  aspect-ratio:16/9;
  transition: transform 0.3s ease;
}
@media (hover: hover){
  .tile img:hover { transform: scale(1.02); }
}
.tile h3 { padding:1rem; font-size:clamp(16px,1.5vw,18px); line-height:1.5; margin:0; }
.tile p { padding-inline:1rem; margin:0 0 1rem 0; color: var(--color-text-dark); }
.tile {
  background:#fff;
  border:1px solid var(--color-border);
  border-radius: var(--radius);
  transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease, background-color 0.3s ease;
}
.tile:hover,
.tile:focus-within {
  border-color: var(--color-lavender);
  box-shadow:0 4px 8px rgba(0,0,0,0.1);
  background-color: var(--color-lavender-soft);
  transform: translateY(-2px);
}
.tile a:focus-visible { outline: var(--focus-ring); outline-offset: var(--focus-offset); }

/* Compliant / special card */
.tile--compliance {
  background: var(--color-lavender-soft);
  border-color: var(--color-lavender);
}
.tile--compliance:hover,
.tile--compliance:focus-within {
  box-shadow:0 4px 8px rgba(0,0,0,0.1);
  border-color: var(--color-lavender);
}

/* Responsive Grid */
@media (min-width:768px){ .tiles{grid-template-columns:repeat(2,1fr);} }
@media (min-width:1024px){ .tiles{grid-template-columns:repeat(3,1fr);} }

/* ---------------------------
   9. Footer
--------------------------- */
.site-footer {
  border-top:1px solid var(--color-border);
  background: var(--color-lavender-soft);
  padding-block: clamp(1.5rem,3vw,2.5rem);
  color: var(--color-sage);
}
.footer-inner {
  display:grid;
  gap: var(--space-sm);
  grid-template-columns: repeat(auto-fit,minmax(250px,1fr));
}
.footer-contact-address h2 { font-size:1.25rem; color:var(--color-lavender); margin:0 0 0.5rem; }
.footer-privacy { text-align:center; margin-top:1.5rem; }
.footer-privacy a {
  background: var(--color-lavender);
  color:#fff;
  padding:0.4rem 0.8rem;
  border-radius:var(--radius);
  font-weight:600;
  display:inline-flex;
  align-items:center;
  gap:4px;
  transition:background-color 0.2s ease, box-shadow 0.2s ease;
}
.footer-privacy a:hover { background: var(--color-text-dark); }
.copyright { font-size:0.75rem; color:var(--color-text-muted); text-align:center; margin-top:0.8rem; }

/* ---------------------------
   7. Hero Section (å¾®èª¿æ•´ãƒ»å¼·åŒ–ç‰ˆ)
--------------------------- */
.section--hero {
  /* æ—¢å­˜ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç¶­æŒ */
  position: relative;
  min-height: 50vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  overflow:hidden;
  padding-top: env(safe-area-inset-top);
  background-size: cover;
  background-position: center;
}

.hero__overlay {
  display: none; /* â† æ—¢å­˜ã®å…¨ä½“ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã¯å¼•ãç¶šãéè¡¨ç¤º */
}

/* .section--hero .inner ã®ä¿®æ­£ */
.section--hero .inner {
  position: relative;
  z-index: 2;
  padding-block: clamp(2rem, 6vw, 4rem); 
  
  /* PCã§ã¯åºƒã„å¹…(var(--max-width))ã‚’ç¶­æŒã™ã‚‹ãŸã‚ã€max-width:90%ã¯ãƒ¢ãƒã‚¤ãƒ«ã®ã¿ã«é™å®š */
  /* ãŸãã—ã€ä¸­å¤®æƒãˆã®ãŸã‚ã«è¦ªè¦ç´ã® .section--hero ã« text-align: center; ãŒæ—¢ã«ã‚ã‚‹ãŸã‚ã€ã“ã“ã§ã¯è¿½åŠã® text-align ã¯ä¸è¦ */
}

/* âšï¸ å¾®èª¿æ•´ 1: ãƒ¢ãƒã‚¤ãƒ«ã§ã®å¹…åˆ¶é™ */
@media (max-width: 767px) {
  .section--hero .inner {
    max-width: 90%; /* â† 767pxä»¥ä¸‹ã§ã®ã¿å¹…ã‚’åˆ¶é™ */
  }
}

/* 1. ãƒ†ã‚­ã‚¹ãƒˆãƒ–ãƒ­ãƒƒã‚¯å°‚ç”¨ã®åŠé€æ˜èƒŒæ™¯ãƒ»ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãƒ»è§’ä¸¸ã‚’è¿½åŠ */
.hero-text {
  display: inline-block;
  text-align: center;
  
  /* âšï¸ å¾®èª¿æ•´ 2: èƒŒæ™¯è‰²ã®æ¿ƒåº¦ã‚’å¼·åŒ– */
  /* var(--hero-overlay)ã¯0.35ããŒã€è¦–èªæ€§å¼·åŒ–ã®ãŸã‚0.45ã«å›ºå®šå€¤ã‚’ä¸€æ™‚çš„ã«ä½¿ç”¨ */
  /* ã‚‚ã—ãã¯ :root ã« --hero-text-bg: rgba(163,177,138,0.45); ã‚’å®šç¾©ã—ã€ãã‚Œã‚’ä½¿ç”¨ã™ã‚‹ã®ãŒãƒ™ã‚¹ãƒˆ */
  background-color: rgba(163,177,138,0.45); /* 0.35 â†’ 0.45 ã«å¼·åŒ– */
  
  padding: var(--space-sm); 
  border-radius: var(--radius); 
}


/* 3. ãƒœã‚¿ãƒ³ã®ä½ç½®ã‚’ä¸‹ã’ã‚‹ï¼ˆ.hero-textå†…ã®.btnã«å¯¾ã—ã¦ï¼‰ */
.hero-text .btn {
  display: block; 
  margin-top: var(--space-sm); 
  margin-inline: auto; 
  
  /* âšï¸ å¾®èª¿æ•´ 3: width: fit-content ã®äº’æ›æ€§ã‚’è€ƒæ…®ã—ãŸä»£æ›¿ */
  /* width: fit-content; ã‚’å„ªå…ˆã—ã¤ã¤ã€äº’æ›æ€§ã®ãŸã‚ max-width ã‚’è¿½åŠã—ã€æ›´ã«å¿…è¦ã«å¿œã˜ã¦ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒ–ãƒ­ãƒƒã‚¯ã®ä»£æ›¿æ‰‹æ®µã‚’è¬›ã˜ã‚‹ */
  width: fit-content; 
  max-width: 100%; /* è¦ªè¦ç´(hero-text)ã‹ã‚‰ã¯ã¿å‡ºã•ãªã„ã‚ˆã†ã«ä¿é™º */
  
  /* äº’æ›æ€§ã‚’é‡è¦–ã™ã‚‹ãªã‚‰ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¦ã‚‚è‰¯ã„ */
  /*
  display: inline-block; 
  margin-top: var(--space-sm); 
  */
}


/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ”ãƒ¼ã€ã‚µãƒ–ã‚³ãƒ”ãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ«ã¯å¤‰æ›´ãªã— */
.hero-text h1 {
  font-size: clamp(24px, 5vw, 40px);
  line-height:1.3;
  color:#fff;
  text-shadow: 0 0 4px rgba(0,0,0,0.8), 0 0 8px rgba(0,0,0,0.6); 
}
.hero-text p {
  font-size: clamp(1rem,1.1rem+0.5vw,1.3rem);
  color: #fff; 
  text-shadow: 0 0 3px rgba(0,0,0,0.7), 0 0 1px rgba(0,0,0,0.5); 
  display: block; 
  padding:0;
  margin-block-end: 0;
}
/* ã‚¹ã‚­ãƒƒãƒ—ãƒªãƒ³ã‚¯ã®éè¡¨ç¤ºè¨­å®š (A11yå¯¾å¿œ) */
.skip-link {
  position: absolute; /* ç”»é¢å¤–ã«é…ç½® */
  top: auto;
  left: -9999px;
  width: 1px;
  height: 1px;
  overflow: hidden;
  z-index: 9999;
  /* ãƒ•ã‚©ãƒ¼ã‚«ã‚¹æ™‚ã®è¦‹æ„ãˆã‚’æ•´ãˆã‚‹ */
  background-color: var(--color-lavender); 
  color: #fff; 
  padding: 8px 12px; 
  text-decoration: none;
}

/* ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã•ã‚ŒãŸã‚‰è¡¨ç¤ºã•ã›ã‚‹ */
.skip-link:focus {
  position: static; /* é€šå¸¸ã®é…ç½®ã«æˆ»ã™ */
  left: auto;
  width: auto;
  height: auto;
  overflow: visible;
  outline: var(--focus-ring);
  outline-offset: var(--focus-offset);
}
/* 9. Footer */
/* ãƒ•ãƒƒã‚¿ãƒ¼å†…ã®è¦ç´ãŒå¹…ã‚’å–ã‚Šã™ããªã„ã‚ˆã†ã«ã™ã‚‹ï¼ˆãƒ•ãƒƒã‚¿ãƒ¼å†…ã® img ã‚„ div ã«å¿…è¦ãªã‚‰é©ç”¨ï¼‰ */
.site-footer img {
    max-width: 100%;
    height: auto;
}