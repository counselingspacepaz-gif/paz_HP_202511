/* ----------------------------------------------------------------------
 * Base Styling and Variables
 * ---------------------------------------------------------------------- */

:root{
  --color-bg: #ffffff;
  --color-text: #4a5b3a;        /* セージ */
  --color-accent: #b497bd;      /* ラベンダー */
  --color-accent-strong: #9b7aa5; /* 濃ラベンダー */
  --color-muted: #f4f1f7;       /* 薄ラベンダー背景 */
  --header-height: 66px;
  /* 視認性向上のため、オーバーレイ濃度を0.50に維持 */
  --color-overlay: rgba(163, 177, 138, 0.50); /* セージ系のオーバーレイ */
}

/* 1) ベース（既存維持＋補強） */
img {
  max-width: 100%;
  height: auto;
  display: block;
}

*{ box-sizing: border-box; }
html{ font-size: 16px; }
body{
  margin:0;
  color: var(--color-text);
  background: var(--color-bg);
  font-family: "Zen Maru Gothic", system-ui, -apple-system, "Segoe UI", "Noto Sans JP", sans-serif;
  line-height: 1.7;
}

/* stickyヘッダー分の余白 */
.main {
  padding-top: var(--header-height);
}

.wrapper{ width: min(1100px, 92%); margin: 0 auto; }

a{ color: var(--color-text); text-decoration: underline; text-decoration-color: var(--color-accent); }
a:hover{ color: var(--color-accent-strong); }

/* ----------------------------------------------------------------------
 * 2) Header and Navigation
 * ---------------------------------------------------------------------- */

/* ヘッダー */
.site-header{ position: sticky; top: 0; background: var(--color-bg); z-index: 1000; border-bottom: 1px solid #ddd; }
.header-inner{ display: flex; align-items: center; justify-content: space-between; gap: 1rem; padding: .5rem 0; }
.site-logo img{ display:block; height:56px; }

/* ナビトグルボタン（.nav-toggle）とナビゲーション（site-nav） */
.nav-toggle{
  font-size: 1.25rem;
  background: transparent;
  border: 1px solid var(--color-text);
  padding: .4rem .6rem;
  border-radius: .25rem;
}
.site-nav ul{ list-style: none; margin:0; padding:0; display:flex; gap:1rem; }
.site-nav a{ text-decoration: none; }

/* PC (769px以上): トグル非表示＆ナビ表示 */
@media (min-width: 769px){
  .nav-toggle { display: none; }
  .site-nav { display: block !important; }
}

/* モバイル (768px以下): ナビ開閉制御 */
@media (max-width: 768px){
  .site-nav{ display:none; }
  /* 開いた際のスタイル（header.html と main.js と連携） */
  .site-nav.is-open{
    display:block;
    position: absolute;
    top: var(--header-height);
    left: 0;
    width: 100%;
    background: var(--color-bg);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    z-index: 999;
  }
  .site-nav ul{ flex-direction: column; padding: 1rem 0; }
  .site-nav li { border-bottom: 1px solid var(--color-muted); }
  .site-nav a { display: block; padding: 0.75rem 0.5rem; }
}

/* ----------------------------------------------------------------------
 * 3) Hero Section (最重要: 背景とテキスト視認性)
 * ---------------------------------------------------------------------- */

.section--hero{
  position: relative;
  overflow: hidden;
  min-height: 60vh; /* 高さ要件 min-height: 60vh */
  display: flex; /* 縦中央揃えのためのFlex */
  align-items: center;
}

/* ヒーロー背景（最背面: -1） */
.hero__bg{
  /* background-image 指定禁止（HTML側の style="" を唯一のソースとする） */
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.85;
  z-index: -1; /* ★修正点: Z-indexを -1 に設定し、最背面に固定★ */
}

/* オーバーレイ（中間: 0） */
.section--hero::after {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--color-overlay); /* 濃度0.50 */
  z-index: 0; /* ★修正点: Z-indexを 0 に設定し、背景と前面要素の間に固定★ */
}

/* テキストとCTA（最前面: 1） */
.section--hero .wrapper,
.section--hero .inner,
.cta-box {
  position: relative;
  z-index: 1; /* 背景とオーバーレイの上に配置 */
}

/* テキストスタイル */
.section--hero .inner {
  padding: 10vh 0;
  text-align: center;
}
.hero__title {
  font-size: clamp(1.8rem, 4.5vw, 3rem);
  margin: 0 0 .5rem;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,.5);
}
.hero__subtitle {
  color: #eef;
  margin: 0 0 1rem;
}

/* ----------------------------------------------------------------------
 * 4) Feature Tiles (特徴カード)
 * ---------------------------------------------------------------------- */

.section--features {
  padding: 3rem 0;
}

/* タイルグリッド定義 */
.tiles {
  display: grid;
  gap: 1.5rem;
  grid-template-columns: 1fr; /* モバイル1列 */
  margin-top: 2rem;
}
@media (min-width: 768px) {
  .tiles {
    grid-template-columns: repeat(2, 1fr); /* タブレット2列 */
  }
}
@media (min-width: 1024px) {
  .tiles {
    grid-template-columns: repeat(3, 1fr); /* PC3列 */
  }
}

/* カードの高さ揃え */
.tile {
  border: 1px solid var(--color-muted);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  display: flex;
  flex-direction: column;
}

.tile__link {
  display: flex;
  flex-direction: column;
  text-decoration: none;
  color: var(--color-text);
  padding: 1.5rem;
  height: 100%;
  gap: .5rem;
}

.tile__link:hover {
  background: rgba(180, 151, 189, 0.1);
}

/* 画像比率固定とオブジェクトフィット */
.tile img {
  width: 100%;
  aspect-ratio: 16 / 9; /* 必須: 16:9の比率を固定 */
  object-fit: cover;
  margin-bottom: 1rem;
  border-radius: 4px;
}

/* ----------------------------------------------------------------------
 * 5) Buttons
 * ---------------------------------------------------------------------- */

.btn{
  padding: .75rem 1.25rem;
  border-radius: .35rem;
  border: 2px solid var(--color-accent);
  background: var(--color-accent);
  color: #fff;
  text-decoration: none;
  font-weight: 700;
  transition: background 0.2s, border-color 0.2s;
  display: inline-block;
}
.btn:hover{
  background: var(--color-accent-strong);
  border-color: var(--color-accent-strong);
}

/* ----------------------------------------------------------------------
 * 6) CTA (Call to Action)
 * ---------------------------------------------------------------------- */

.section--cta {
  padding: 3rem 0;
  background: var(--color-muted);
}
.cta-box {
  text-align: center;
  padding: 2rem;
}
.cta-box h2 {
  margin-top: 0;
  font-size: 2rem;
}

/* ----------------------------------------------------------------------
 * 7) Footer
 * ---------------------------------------------------------------------- */

.site-footer{
  background: var(--color-muted);
  margin-top: 2rem;
  padding: 1rem 0;
}
.footer-inner{
  display:flex;
  flex-wrap:wrap;
  gap:1rem;
  align-items:center;
  justify-content: space-between;
}
.footer-privacy a{ text-decoration: underline; }
.copyright small{ color: #666; }

/* ----------------------------------------------------------------------
 * 8) Accessibility
 * ---------------------------------------------------------------------- */

/* Skip Link */
.skip-link {
  position: absolute;
  left: 0;
  top: -40px; /* 初期非表示 */
  z-index: 9999;
  background: var(--color-accent-strong);
  color: #fff;
  padding: 8px 16px;
  border-radius: 0 0 4px 4px;
  text-decoration: none;
  transition: top 0.2s;
}
.skip-link:focus {
  top: 0; /* :focusで表示 */
}

/* Visually Hidden */
.visually-hidden{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }